blueprint:
  name: üîò–î–µ–π—Å—Ç–≤–∏—è –¥–ª—è –∫–Ω–æ–ø–∫–∏ Yeelight
  domain: automation
  input:
    button_device:
      name: –°–µ–Ω—Å–æ—Ä –¥–∏–º–º–µ—Ä–∞
      description: –°–µ–Ω—Å–æ—Ä –¥–∏–º–º–µ—Ä–∞
      selector:
        entity:
    one_press_action:
      name: 1 –Ω–∞–∂–∞—Ç–∏–µ
      description: –î–µ–π—Ç—Å–≤–∏–µ –ø—Ä–∏ 1 –Ω–∞–∂–∞—Ç–∏–∏ –∫–Ω–æ–ø–∫–∏
      default: []
      selector:
        action:
    two_press_action:
      name: 2 –Ω–∞–∂–∞—Ç–∏—è
      description: –î–µ–π—Ç—Å–≤–∏–µ –ø—Ä–∏ 2 –Ω–∞–∂–∞—Ç–∏—è—Ö –∫–Ω–æ–ø–∫–∏
      default: []
      selector:
        action:
    long_press_action:
      name: –î–æ–ª–≥–æ–µ –Ω–∞–∂–∞—Ç–∏–µ
      description: –î–µ–π—Ç—Å–≤–∏–µ –ø—Ä–∏ –¥–æ–ª–≥–æ–º –Ω–∞–∂–∞—Ç–∏–∏ –∫–Ω–æ–ø–∫–∏
      default: []
      selector:
        action:
mode: parallel
max: 50
trigger:
  - platform: state
    entity_id:
      - !input button_device
    attribute: last_packet_id
condition: []
action:
  - variables:
      type_bt: "{{trigger.to_state.state}}"
  - choose:
      - conditions:
          - condition: template
            value_template: '{{type_bt == "single press"}}'
        sequence: !input one_press_action
      - conditions:
          - condition: template
            value_template: '{{type_bt == "double press"}}'
        sequence: !input two_press_action
      - conditions:
          - condition: template
            value_template: '{{type_bt == "long press"}}'
        sequence: !input long_press_action
    default: []
